<launch>

	<!-- joy node -->
	<node respawn="true" pkg="joy" type="joy_node" name="controller">
		<param name="dev" type="string" value="/dev/input/js2"/>
		<param name="deadzone" value="0.12"/>
	</node>

	<!-- teleop node -->
	<node respawn="true" pkg="cart_core" type="cart_teleop_joy" name="teleop">
		<param name="axis_linear" value="1" type="int" />
		<param name="axis_angular" value="0" type="int" />
		<param name="scale_linear" value="2" type="double" />
		<param name="scale_angular" value="2" type="double"/>
	</node>

	<node respawn="true" pkg="safety_system" type="safety_system" name="safety" />

	<node respawn="true" pkg="drive_system" type="drive_system" name="drive" />

	<node respawn="true" pkg="battery_management_system" type="battery_management_system" name="bms"/>

	<node name="backend_dashboard" pkg="rqt_gui" type="rqt_gui" respawn="false" output="screen" args="--perspective-file $(find cart_core)/rqt_config/backend_dashboard.perspective"/>
	<node name="cart_dashboard" pkg="rqt_gui" type="rqt_gui" respawn="false" output="screen" args="--perspective-file $(find cart_core)/rqt_config/cart_dashboard.perspective"/>

</launch>
